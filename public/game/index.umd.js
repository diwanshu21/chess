/**
 * Minified by jsDelivr using Terser v5.19.0.
 * Original file: /npm/@mliebelt/pgn-parser@1.4.12/lib/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).PgnParser={})}(this,(function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r={exports:{}};!function(t){t.exports&&(t.exports=function(){function t(t,n){function r(){this.constructor=t}r.prototype=n.prototype,t.prototype=new r}function n(t,r,e,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,n.prototype),o.expected=r,o.found=e,o.location=u,o.name="SyntaxError",o}function r(t,n,r){return r=r||" ",t.length>n?t:(n-=t.length,t+(r+=r.repeat(n)).slice(0,n))}function e(t,r){var e,u={},o=(r=void 0!==r?r:{}).grammarSource,a={pgn:lh,tags:Gf,game:_f,games:Qf},i=lh,c="\ufeff",s="Event",f="event",l="Site",h="site",v="Date",b="date",m="Round",d="round",p="White",A="white",g="Black",C="black",k="Result",y="result",T="WhiteTitle",B="Whitetitle",E="whitetitle",W="whiteTitle",w="BlackTitle",U="Blacktitle",O="blacktitle",$="blackTitle",N="WhiteELO",S="WhiteElo",R="Whiteelo",x="whiteelo",F="whiteElo",j="BlackELO",D="BlackElo",P="Blackelo",I="blackelo",V="blackElo",M="WhiteUSCF",Q="WhiteUscf",_="Whiteuscf",G="whiteuscf",K="whiteUscf",L="BlackUSCF",Y="BlackUscf",q="Blackuscf",z="blackuscf",H="blackUscf",Z="WhiteNA",J="WhiteNa",X="Whitena",tt="whitena",nt="whiteNa",rt="whiteNA",et="BlackNA",ut="BlackNa",ot="Blackna",at="blackna",it="blackNA",ct="blackNa",st="WhiteType",ft="Whitetype",lt="whitetype",ht="whiteType",vt="BlackType",bt="Blacktype",mt="blacktype",dt="blackType",pt="EventDate",At="Eventdate",gt="eventdate",Ct="eventDate",kt="EventSponsor",yt="Eventsponsor",Tt="eventsponsor",Bt="eventSponsor",Et="Section",Wt="section",wt="Stage",Ut="stage",Ot="Board",$t="board",Nt="Opening",St="opening",Rt="Variation",xt="variation",Ft="SubVariation",jt="Subvariation",Dt="subvariation",Pt="subVariation",It="ECO",Vt="Eco",Mt="eco",Qt="NIC",_t="Nic",Gt="nic",Kt="Time",Lt="time",Yt="UTCTime",qt="UTCtime",zt="UtcTime",Ht="Utctime",Zt="utctime",Jt="utcTime",Xt="UTCDate",tn="UTCdate",nn="UtcDate",rn="Utcdate",en="utcdate",un="utcDate",on="TimeControl",an="Timecontrol",cn="timecontrol",sn="timeControl",fn="SetUp",ln="Setup",hn="setup",vn="setUp",bn="FEN",mn="Fen",dn="fen",pn="Termination",An="termination",gn="Annotator",Cn="annotator",kn="Mode",yn="mode",Tn="PlyCount",Bn="Plycount",En="plycount",Wn="plyCount",wn="Variant",Un="variant",On="WhiteRatingDiff",$n="BlackRatingDiff",Nn="WhiteFideId",Sn="BlackFideId",Rn="WhiteTeam",xn="BlackTeam",Fn="Clock",jn="WhiteClock",Dn="BlackClock",Pn='"',In="\\",Vn=".",Mn=":",Qn="/",_n="B",Gn="W",Kn="N",Ln="?",Yn="-",qn="+",zn="*",Hn="1-0",Zn="0-1",Jn="1/2-1/2",Xn="=",tr="%csl",nr="%cal",rr="%",er="%eval",ur="[%",or="}",ar=",",ir="Y",cr="G",sr="R",fr="{",lr="[",hr="]",vr=";",br="clk",mr="egt",dr="emt",pr="mct",Ar="(",gr=")",Cr=" ",kr="e.p.",yr="O-O-O",Tr="O-O",Br="@",Er="+-",Wr="$$$",wr="#",Ur="$",Or="!!",$r="??",Nr="!?",Sr="?!",Rr="!",xr="‼",Fr="⁇",jr="⁉",Dr="⁈",Pr="□",Ir="∞",Vr="⩲",Mr="⩱",Qr="±",_r="∓",Gr="-+",Kr="⨀",Lr="⟳",Yr="→",qr="↑",zr="⇆",Hr="D",Zr="x",Jr=/^[ \t\n\r]/,Xr=/^[\n\r]/,te=/^[\-a-zA-Z0-9_.]/,ne=/^[^"\\\r\n]/,re=/^[0-9?]/,ee=/^[0-9]/,ue=/^[^\n\r]/,oe=/^[RNBQKP]/,ae=/^[RNBQ]/,ie=/^[a-h]/,ce=/^[1-8]/,se=Sf("\ufeff",!1),fe=Sf("Event",!1),le=Sf("event",!1),he=Sf("Site",!1),ve=Sf("site",!1),be=Sf("Date",!1),me=Sf("date",!1),de=Sf("Round",!1),pe=Sf("round",!1),Ae=Sf("White",!1),ge=Sf("white",!1),Ce=Sf("Black",!1),ke=Sf("black",!1),ye=Sf("Result",!1),Te=Sf("result",!1),Be=Sf("WhiteTitle",!1),Ee=Sf("Whitetitle",!1),We=Sf("whitetitle",!1),we=Sf("whiteTitle",!1),Ue=Sf("BlackTitle",!1),Oe=Sf("Blacktitle",!1),$e=Sf("blacktitle",!1),Ne=Sf("blackTitle",!1),Se=Sf("WhiteELO",!1),Re=Sf("WhiteElo",!1),xe=Sf("Whiteelo",!1),Fe=Sf("whiteelo",!1),je=Sf("whiteElo",!1),De=Sf("BlackELO",!1),Pe=Sf("BlackElo",!1),Ie=Sf("Blackelo",!1),Ve=Sf("blackelo",!1),Me=Sf("blackElo",!1),Qe=Sf("WhiteUSCF",!1),_e=Sf("WhiteUscf",!1),Ge=Sf("Whiteuscf",!1),Ke=Sf("whiteuscf",!1),Le=Sf("whiteUscf",!1),Ye=Sf("BlackUSCF",!1),qe=Sf("BlackUscf",!1),ze=Sf("Blackuscf",!1),He=Sf("blackuscf",!1),Ze=Sf("blackUscf",!1),Je=Sf("WhiteNA",!1),Xe=Sf("WhiteNa",!1),tu=Sf("Whitena",!1),nu=Sf("whitena",!1),ru=Sf("whiteNa",!1),eu=Sf("whiteNA",!1),uu=Sf("BlackNA",!1),ou=Sf("BlackNa",!1),au=Sf("Blackna",!1),iu=Sf("blackna",!1),cu=Sf("blackNA",!1),su=Sf("blackNa",!1),fu=Sf("WhiteType",!1),lu=Sf("Whitetype",!1),hu=Sf("whitetype",!1),vu=Sf("whiteType",!1),bu=Sf("BlackType",!1),mu=Sf("Blacktype",!1),du=Sf("blacktype",!1),pu=Sf("blackType",!1),Au=Sf("EventDate",!1),gu=Sf("Eventdate",!1),Cu=Sf("eventdate",!1),ku=Sf("eventDate",!1),yu=Sf("EventSponsor",!1),Tu=Sf("Eventsponsor",!1),Bu=Sf("eventsponsor",!1),Eu=Sf("eventSponsor",!1),Wu=Sf("Section",!1),wu=Sf("section",!1),Uu=Sf("Stage",!1),Ou=Sf("stage",!1),$u=Sf("Board",!1),Nu=Sf("board",!1),Su=Sf("Opening",!1),Ru=Sf("opening",!1),xu=Sf("Variation",!1),Fu=Sf("variation",!1),ju=Sf("SubVariation",!1),Du=Sf("Subvariation",!1),Pu=Sf("subvariation",!1),Iu=Sf("subVariation",!1),Vu=Sf("ECO",!1),Mu=Sf("Eco",!1),Qu=Sf("eco",!1),_u=Sf("NIC",!1),Gu=Sf("Nic",!1),Ku=Sf("nic",!1),Lu=Sf("Time",!1),Yu=Sf("time",!1),qu=Sf("UTCTime",!1),zu=Sf("UTCtime",!1),Hu=Sf("UtcTime",!1),Zu=Sf("Utctime",!1),Ju=Sf("utctime",!1),Xu=Sf("utcTime",!1),to=Sf("UTCDate",!1),no=Sf("UTCdate",!1),ro=Sf("UtcDate",!1),eo=Sf("Utcdate",!1),uo=Sf("utcdate",!1),oo=Sf("utcDate",!1),ao=Sf("TimeControl",!1),io=Sf("Timecontrol",!1),co=Sf("timecontrol",!1),so=Sf("timeControl",!1),fo=Sf("SetUp",!1),lo=Sf("Setup",!1),ho=Sf("setup",!1),vo=Sf("setUp",!1),bo=Sf("FEN",!1),mo=Sf("Fen",!1),po=Sf("fen",!1),Ao=Sf("Termination",!1),go=Sf("termination",!1),Co=Sf("Annotator",!1),ko=Sf("annotator",!1),yo=Sf("Mode",!1),To=Sf("mode",!1),Bo=Sf("PlyCount",!1),Eo=Sf("Plycount",!1),Wo=Sf("plycount",!1),wo=Sf("plyCount",!1),Uo=Sf("Variant",!1),Oo=Sf("variant",!1),$o=Sf("WhiteRatingDiff",!1),No=Sf("BlackRatingDiff",!1),So=Sf("WhiteFideId",!1),Ro=Sf("BlackFideId",!1),xo=Sf("WhiteTeam",!1),Fo=Sf("BlackTeam",!1),jo=Sf("Clock",!1),Do=Sf("WhiteClock",!1),Po=Sf("BlackClock",!1),Io=jf("whitespace"),Vo=Rf([" ","\t","\n","\r"],!1,!1),Mo=Rf(["\n","\r"],!1,!1),Qo=Rf(["-",["a","z"],["A","Z"],["0","9"],"_","."],!1,!1),_o=Sf('"',!1),Go=Rf(['"',"\\","\r","\n"],!0,!1),Ko=Sf("\\",!1),Lo=Rf([["0","9"],"?"],!1,!1),Yo=Sf(".",!1),qo=Rf([["0","9"]],!1,!1),zo=Sf(":",!1),Ho=Sf("/",!1),Zo=Sf("B",!1),Jo=Sf("W",!1),Xo=Sf("N",!1),ta=Sf("?",!1),na=Sf("-",!1),ra=Sf("+",!1),ea=Sf("*",!1),ua=Sf("1-0",!1),oa=Sf("0-1",!1),aa=Sf("1/2-1/2",!1),ia=Sf("=",!1),ca=Sf("%csl",!1),sa=Sf("%cal",!1),fa=Sf("%",!1),la=Sf("%eval",!1),ha=Sf("[%",!1),va=Sf("}",!1),ba=xf(),ma=Rf(["\n","\r"],!0,!1),da=Sf(",",!1),pa=Sf("Y",!1),Aa=Sf("G",!1),ga=Sf("R",!1),Ca=Sf("{",!1),ka=Sf("[",!1),ya=Sf("]",!1),Ta=Sf(";",!1),Ba=Sf("clk",!1),Ea=Sf("egt",!1),Wa=Sf("emt",!1),wa=Sf("mct",!1),Ua=Sf("(",!1),Oa=Sf(")",!1),$a=jf("integer"),Na=Sf(" ",!1),Sa=Sf("e.p.",!1),Ra=Sf("O-O-O",!1),xa=Sf("O-O",!1),Fa=Sf("@",!1),ja=Sf("+-",!1),Da=Sf("$$$",!1),Pa=Sf("#",!1),Ia=Sf("$",!1),Va=Sf("!!",!1),Ma=Sf("??",!1),Qa=Sf("!?",!1),_a=Sf("?!",!1),Ga=Sf("!",!1),Ka=Sf("‼",!1),La=Sf("⁇",!1),Ya=Sf("⁉",!1),qa=Sf("⁈",!1),za=Sf("□",!1),Ha=Sf("∞",!1),Za=Sf("⩲",!1),Ja=Sf("⩱",!1),Xa=Sf("±",!1),ti=Sf("∓",!1),ni=Sf("-+",!1),ri=Sf("⨀",!1),ei=Sf("⟳",!1),ui=Sf("→",!1),oi=Sf("↑",!1),ai=Sf("⇆",!1),ii=Sf("D",!1),ci=Rf(["R","N","B","Q","K","P"],!1,!1),si=Rf(["R","N","B","Q"],!1,!1),fi=Rf([["a","h"]],!1,!1),li=Rf([["1","8"]],!1,!1),hi=Sf("x",!1),vi=function(t,n){return n},bi=function(t,n){return[t].concat(n)},mi=function(t){return t},di=function(t,n,r){var e=ov;return ov=[],{tags:t,gameComment:n,moves:r,messages:e}},pi=function(t,n){return n},Ai=function(t,n){var r={};return[t].concat(n).forEach((function(t){r[t.name]=t.value})),r},gi=function(t){return null===t?{}:(t.messages=ov,t)},Ci=function(t){return t},ki=function(t){return{name:"Event",value:t}},yi=function(t){return{name:"Site",value:t}},Ti=function(t){return{name:"Date",value:t}},Bi=function(t){return{name:"Round",value:t}},Ei=function(t){return{name:"WhiteTitle",value:t}},Wi=function(t){return{name:"BlackTitle",value:t}},wi=function(t){return{name:"WhiteElo",value:t}},Ui=function(t){return{name:"BlackElo",value:t}},Oi=function(t){return{name:"WhiteUSCF",value:t}},$i=function(t){return{name:"BlackUSCF",value:t}},Ni=function(t){return{name:"WhiteNA",value:t}},Si=function(t){return{name:"BlackNA",value:t}},Ri=function(t){return{name:"WhiteType",value:t}},xi=function(t){return{name:"BlackType",value:t}},Fi=function(t){return{name:"White",value:t}},ji=function(t){return{name:"Black",value:t}},Di=function(t){return{name:"Result",value:t}},Pi=function(t){return{name:"EventDate",value:t}},Ii=function(t){return{name:"EventSponsor",value:t}},Vi=function(t){return{name:"Section",value:t}},Mi=function(t){return{name:"Stage",value:t}},Qi=function(t){return{name:"Board",value:t}},_i=function(t){return{name:"Opening",value:t}},Gi=function(t){return{name:"Variation",value:t}},Ki=function(t){return{name:"SubVariation",value:t}},Li=function(t){return{name:"ECO",value:t}},Yi=function(t){return{name:"NIC",value:t}},qi=function(t){return{name:"Time",value:t}},zi=function(t){return{name:"UTCTime",value:t}},Hi=function(t){return{name:"UTCDate",value:t}},Zi=function(t){return{name:"TimeControl",value:t}},Ji=function(t){return{name:"SetUp",value:t}},Xi=function(t){return{name:"FEN",value:t}},tc=function(t){return{name:"Termination",value:t}},nc=function(t){return{name:"Annotator",value:t}},rc=function(t){return{name:"Mode",value:t}},ec=function(t){return{name:"PlyCount",value:t}},uc=function(t){return{name:"Variant",value:t}},oc=function(t){return{name:"WhiteRatingDiff",value:t}},ac=function(t){return{name:"BlackRatingDiff",value:t}},ic=function(t){return{name:"WhiteFideId",value:t}},cc=function(t){return{name:"BlackFideId",value:t}},sc=function(t){return{name:"WhiteTeam",value:t}},fc=function(t){return{name:"BlackTeam",value:t}},lc=function(t){return{name:"Clock",value:t}},hc=function(t){return{name:"WhiteClock",value:t}},vc=function(t){return{name:"BlackClock",value:t}},bc=function(t,n){return av({key:t,value:n,message:`Format of tag: "${t}" not correct: "${n}"`}),{name:t,value:n}},mc=function(t,n){return av({key:t,value:n,message:`Tag: "${t}" not known: "${n}"`}),{name:t,value:n}},dc=function(t){return t.join("")},pc=function(t){return t.map((t=>t.char||t)).join("")},Ac=function(){return{type:"char",char:"\\"}},gc=function(){return{type:"char",char:'"'}},Cc=function(t){return t},kc=function(t,n,r){return{value:t.join("")+"."+n.join("")+"."+r.join(""),year:cv(t),month:cv(n),day:cv(r)}},yc=function(t,n,r,e){let u=t.join("")+":"+n.join("")+":"+r.join(""),o=0;return e&&(u=u+"."+e,av({message:`Unusual use of millis in time: ${u}`}),cv(e)),{value:u,hour:cv(t),minute:cv(n),second:cv(r),millis:o}},Tc=function(t){return t.join("")},Bc=function(t){return t},Ec=function(t,n){return t+"/"+n},Wc=function(t){return t},wc=function(t){return t},Uc=function(t){return t||(av({message:"Tag TimeControl has to have a value"}),"")},Oc=function(t,n){return n},$c=function(t,n){let r=[t].concat(n);return r.value=r.map((t=>t.value)).join(":"),r},Nc=function(t){return t},Sc=function(){return{kind:"unknown",value:"?"}},Rc=function(){return{kind:"unlimited",value:"-"}},xc=function(t,n,r){return{kind:"movesInSecondsIncrement",moves:t,seconds:n,increment:r,value:t+"/"+n+"+"+r}},Fc=function(t,n){return{kind:"movesInSeconds",moves:t,seconds:n,value:t+"/"+n}},jc=function(t,n){return{kind:"increment",seconds:t,increment:n,value:t+"+"+n}},Dc=function(t){return{kind:"suddenDeath",seconds:t,value:""+t}},Pc=function(t){return{kind:"hourglass",seconds:t,value:"*"+t}},Ic=function(t){return t},Vc=function(t){return t},Mc=function(t){return t},Qc=function(t){return t},_c=function(t){return t},Gc=function(t){return t},Kc=function(){return 0},Lc=function(){return av({message:'Use "-" for an unknown value'}),0},Yc=function(t){return iv(t)},qc=function(t,n,r,e,u,o,a,i){var c=i||[],s={};return s.moveNumber=n,s.notation=r,o&&(s.commentAfter=o.comment),t&&(s.commentMove=t.comment),u&&(s.drawOffer=!0),s.variations=a||[],s.nag=e||null,c.unshift(s),s.commentDiag=o,c},zc=function(t){return t},Hc=function(t){return[t]},Zc=function(t,n){return n},Jc=function(t,n){return sv([t].concat(n))},Xc=function(){},ts=function(t){return t},ns=function(t){return{comment:t}},rs=function(t,n){return n},es=function(t,n){return sv([{colorFields:t}].concat(n[0]))},us=function(t,n){return n},os=function(t,n){return sv([{colorArrows:t}].concat(n[0]))},as=function(t,n,r){return r},is=function(t,n,r){var e={};return e[t]=n,sv([e].concat(r[0]))},cs=function(t,n,r){return r},ss=function(t,n,r){var e={};return e[t]=n,sv([e].concat(r[0]))},fs=function(t,n){return n},ls=function(t,n){var r={};return r.eval=parseFloat(t),sv([r].concat(n[0]))},hs=function(t,n,r){return r},vs=function(t,n,r){var e={};return e[t]=n.join(""),sv([e].concat(r[0]))},bs=function(t,n){return n},ms=function(t,n){return n.length>0?sv([{comment:lv(t.join(""))}].concat(fv(n[0]))):{comment:t.join("")}},ds=function(t){return t},ps=function(t){return t},As=function(t){return t.join("")},gs=function(t,n){var r=[];r.push(t);for(var e=0;e<n.length;e++)r.push(n[e][2]);return r},Cs=function(t,n){return t+n},ks=function(t,n){var r=[];r.push(t);for(var e=0;e<n.length;e++)r.push(n[e][2]);return r},ys=function(t,n,r){return t+n+r},Ts=function(){return"Y"},Bs=function(){return"G"},Es=function(){return"R"},Ws=function(){return"B"},ws=function(t,n){return t+n},Us=function(){return"clk"},Os=function(){return"egt"},$s=function(){return"emt"},Ns=function(){return"mct"},Ss=function(t,n,r,e){let u=n;return t?u=t+u:av({message:"Hours and minutes missing"}),t&&2==(t.match(/:/g)||[]).length&&2==t.search(":")&&av({message:"Only 1 digit for hours normally used"}),r?u+=r:av({message:"Only 2 digit for seconds normally used"}),e&&(av({message:"Unusual use of millis in clock value"}),u+="."+e),u},Rs=function(t,n,r){let e=n;return t?e=t+e:av({message:"Hours and minutes missing"}),t&&2==(t.match(/:/g)||[]).length&&1==t.search(":")&&av({message:"Only 2 digits for hours normally used"}),r?e+=r:av({message:"Only 2 digit for seconds normally used"}),e},xs=function(t,n){return n?t+n:(av({message:"No hours found"}),t)},Fs=function(t,n){let r=t;return r+=n?n+":":":",r},js=function(t,n){let r=t;return n?r+=n+":":(r+=":",av({message:"Only 2 digits for minutes normally used"})),r},Ds=function(t){return t},Ps=function(t,n){var r=n||[];return r.unshift(t),r},Is=function(t){return t},Vs=function(t){return iv(t)},Ms=function(){return""},Qs=function(t,n,r,e,u,o,a){var i={};return i.fig=t||null,i.disc=n||null,i.strike=r||null,i.col=e,i.row=u,i.check=a||null,i.promotion=o,i.notation=(t||"")+(n||"")+(r||"")+e+u+(o||"")+(a||""),i},_s=function(t,n,r,e,u,o,a,i){var c={};return c.fig=t||null,c.strike="x"==e?e:null,c.col=u,c.row=o,c.notation=(t&&"P"!==t?t:"")+n+r+("x"==e?e:"-")+u+o+(a||"")+(i||""),c.check=i||null,c.promotion=a,c},Gs=function(t,n,r,e,u,o){var a={};return a.fig=t||null,a.strike=n||null,a.col=r,a.row=e,a.check=o||null,a.promotion=u,a.notation=(t||"")+(n||"")+r+e+(u||"")+(o||""),a},Ks=function(t){var n={};return n.notation="O-O-O"+(t||""),n.check=t||null,n},Ls=function(t){var n={};return n.notation="O-O"+(t||""),n.check=t||null,n},Ys=function(t,n,r){var e={};return e.fig=t,e.drop=!0,e.col=n,e.row=r,e.notation=t+"@"+n+r,e},qs=function(t){return t[1]},zs=function(t){return t[1]},Hs=function(t){return"="+t},Zs=function(t,n){var r=n||[];return r.unshift(t),r},Js=function(t){return"$"+t},Xs=function(){return"$3"},tf=function(){return"$4"},nf=function(){return"$5"},rf=function(){return"$6"},ef=function(){return"$1"},uf=function(){return"$2"},of=function(){return"$3"},af=function(){return"$4"},cf=function(){return"$5"},sf=function(){return"$6"},ff=function(){return"$7"},lf=function(){return"$10"},hf=function(){return"$13"},vf=function(){return"$14"},bf=function(){return"$15"},mf=function(){return"$16"},df=function(){return"$17"},pf=function(){return"$18"},Af=function(){return"$19"},gf=function(){return"$22"},Cf=function(){return"$32"},kf=function(){return"$36"},yf=function(){return"$40"},Tf=function(){return"$132"},Bf=function(){return"$220"},Ef=0,Wf=0,wf=[{line:1,column:1}],Uf=0,Of=[],$f=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');i=a[r.startRule]}function Nf(){return Pf(Wf,Ef)}function Sf(t,n){return{type:"literal",text:t,ignoreCase:n}}function Rf(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function xf(){return{type:"any"}}function Ff(){return{type:"end"}}function jf(t){return{type:"other",description:t}}function Df(n){var r,e=wf[n];if(e)return e;for(r=n-1;!wf[r];)r--;for(e={line:(e=wf[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return wf[n]=e,e}function Pf(t,n,r){var e=Df(t),u=Df(n),a={source:o,start:{offset:t,line:e.line,column:e.column},end:{offset:n,line:u.line,column:u.column}};return r&&o&&"function"==typeof o.offset&&(a.start=o.offset(a.start),a.end=o.offset(a.end)),a}function If(t){Ef<Uf||(Ef>Uf&&(Uf=Ef,Of=[]),Of.push(t))}function Vf(t,r,e){return new n(n.buildMessage(t,r),t,r,e)}function Mf(){var n;return 65279===t.charCodeAt(Ef)?(n=c,Ef++):(n=u,0===$f&&If(se)),n}function Qf(){var t,n,r,e,o,a;if(t=Ef,Mf(),Ml(),n=Ef,(r=_f())!==u){for(e=[],o=Ef,Ml(),(a=_f())!==u?(Wf=o,o=vi(r,a)):(Ef=o,o=u);o!==u;)e.push(o),o=Ef,Ml(),(a=_f())!==u?(Wf=o,o=vi(r,a)):(Ef=o,o=u);Wf=n,n=bi(r,e)}else Ef=n,n=u;return n===u&&(n=null),Wf=t,t=mi(n)}function _f(){var t,n,r,e;return t=Ef,Mf(),n=Gf(),(r=bh())===u&&(r=null),(e=lh())!==u?(Wf=t,t=di(n,r,e)):(Ef=t,t=u),t}function Gf(){var t,n,r,e,o,a;if(t=Ef,Mf(),Ml(),n=Ef,(r=Kf())!==u){for(e=[],o=Ef,Ml(),(a=Kf())!==u?(Wf=o,o=pi(r,a)):(Ef=o,o=u);o!==u;)e.push(o),o=Ef,Ml(),(a=Kf())!==u?(Wf=o,o=pi(r,a)):(Ef=o,o=u);Wf=n,n=Ai(r,e)}else Ef=n,n=u;return n===u&&(n=null),r=Ml(),Wf=t,t=gi(n)}function Kf(){var t,n;return t=Ef,Uh()!==u?(Ml(),(n=Lf())!==u?(Ml(),Oh()!==u?(Wf=t,t=Ci(n)):(Ef=t,t=u)):(Ef=t,t=u)):(Ef=t,t=u),t}function Lf(){var t,n,r,e,o;return t=Ef,(n=qf())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=ki(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=zf())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=yi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Hf())!==u?(r=Ml(),(e=Hl())!==u?(Wf=t,t=Ti(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Zf())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Bi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=nl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ei(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=rl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Wi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=el())!==u?(r=Ml(),(e=sh())!==u?(Wf=t,t=wi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=ul())!==u?(r=Ml(),(e=sh())!==u?(Wf=t,t=Ui(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=ol())!==u?(r=Ml(),(e=fh())!==u?(Wf=t,t=Oi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=al())!==u?(r=Ml(),(e=fh())!==u?(Wf=t,t=$i(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=il())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ni(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=cl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Si(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=sl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ri(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=fl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=xi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Jf())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Fi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Xf())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=ji(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=tl())!==u?(r=Ml(),(e=ih())!==u?(Wf=t,t=Di(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=ll())!==u?(r=Ml(),(e=Hl())!==u?(Wf=t,t=Pi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=hl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ii(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=vl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Vi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=bl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Mi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=ml())!==u?(r=Ml(),(e=fh())!==u?(Wf=t,t=Qi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=dl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=_i(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=pl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Gi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Al())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ki(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=gl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Li(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Cl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Yi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=kl())!==u?(r=Ml(),(e=Zl())!==u?(Wf=t,t=qi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=yl())!==u?(r=Ml(),(e=Zl())!==u?(Wf=t,t=zi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Tl())!==u?(r=Ml(),(e=Hl())!==u?(Wf=t,t=Hi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Bl())!==u?(r=Ml(),(e=uh())!==u?(Wf=t,t=Zi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=El())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Ji(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Wl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=Xi(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=wl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=tc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Ul())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=nc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Ol())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=rc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=$l())!==u?(r=Ml(),(e=fh())!==u?(Wf=t,t=ec(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Nl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=uc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Sl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=oc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Rl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=ac(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=xl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=ic(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Fl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=cc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=jl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=sc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Dl())!==u?(r=Ml(),(e=Ll())!==u?(Wf=t,t=fc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Pl())!==u?(r=Ml(),(e=Xl())!==u?(Wf=t,t=lc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Il())!==u?(r=Ml(),(e=rh())!==u?(Wf=t,t=hc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,(n=Vl())!==u?(r=Ml(),(e=rh())!==u?(Wf=t,t=vc(e)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,n=Ef,$f++,r=Yf(),$f--,r!==u?(Ef=n,n=void 0):n=u,n!==u?(r=Gl(),e=Ml(),(o=Ll())!==u?(Wf=t,t=bc(r,o)):(Ef=t,t=u)):(Ef=t,t=u),t===u&&(t=Ef,n=Ef,$f++,r=Yf(),$f--,r===u?n=void 0:(Ef=n,n=u),n!==u?(r=Gl(),e=Ml(),(o=Ll())!==u?(Wf=t,t=mc(r,o)):(Ef=t,t=u)):(Ef=t,t=u))))))))))))))))))))))))))))))))))))))))))))))))),t}function Yf(){var t;return(t=Hf())===u&&(t=el())===u&&(t=ul())===u&&(t=ol())===u&&(t=al())===u&&(t=tl())===u&&(t=ll())===u&&(t=ml())===u&&(t=kl())===u&&(t=yl())===u&&(t=Tl())===u&&(t=Bl())===u&&(t=$l())===u&&(t=Pl())===u&&(t=Il())===u&&(t=Vl()),t}function qf(){var n;return t.substr(Ef,5)===s?(n=s,Ef+=5):(n=u,0===$f&&If(fe)),n===u&&(t.substr(Ef,5)===f?(n=f,Ef+=5):(n=u,0===$f&&If(le))),n}function zf(){var n;return t.substr(Ef,4)===l?(n=l,Ef+=4):(n=u,0===$f&&If(he)),n===u&&(t.substr(Ef,4)===h?(n=h,Ef+=4):(n=u,0===$f&&If(ve))),n}function Hf(){var n;return t.substr(Ef,4)===v?(n=v,Ef+=4):(n=u,0===$f&&If(be)),n===u&&(t.substr(Ef,4)===b?(n=b,Ef+=4):(n=u,0===$f&&If(me))),n}function Zf(){var n;return t.substr(Ef,5)===m?(n=m,Ef+=5):(n=u,0===$f&&If(de)),n===u&&(t.substr(Ef,5)===d?(n=d,Ef+=5):(n=u,0===$f&&If(pe))),n}function Jf(){var n;return t.substr(Ef,5)===p?(n=p,Ef+=5):(n=u,0===$f&&If(Ae)),n===u&&(t.substr(Ef,5)===A?(n=A,Ef+=5):(n=u,0===$f&&If(ge))),n}function Xf(){var n;return t.substr(Ef,5)===g?(n=g,Ef+=5):(n=u,0===$f&&If(Ce)),n===u&&(t.substr(Ef,5)===C?(n=C,Ef+=5):(n=u,0===$f&&If(ke))),n}function tl(){var n;return t.substr(Ef,6)===k?(n=k,Ef+=6):(n=u,0===$f&&If(ye)),n===u&&(t.substr(Ef,6)===y?(n=y,Ef+=6):(n=u,0===$f&&If(Te))),n}function nl(){var n;return t.substr(Ef,10)===T?(n=T,Ef+=10):(n=u,0===$f&&If(Be)),n===u&&(t.substr(Ef,10)===B?(n=B,Ef+=10):(n=u,0===$f&&If(Ee)),n===u&&(t.substr(Ef,10)===E?(n=E,Ef+=10):(n=u,0===$f&&If(We)),n===u&&(t.substr(Ef,10)===W?(n=W,Ef+=10):(n=u,0===$f&&If(we))))),n}function rl(){var n;return t.substr(Ef,10)===w?(n=w,Ef+=10):(n=u,0===$f&&If(Ue)),n===u&&(t.substr(Ef,10)===U?(n=U,Ef+=10):(n=u,0===$f&&If(Oe)),n===u&&(t.substr(Ef,10)===O?(n=O,Ef+=10):(n=u,0===$f&&If($e)),n===u&&(t.substr(Ef,10)===$?(n=$,Ef+=10):(n=u,0===$f&&If(Ne))))),n}function el(){var n;return t.substr(Ef,8)===N?(n=N,Ef+=8):(n=u,0===$f&&If(Se)),n===u&&(t.substr(Ef,8)===S?(n=S,Ef+=8):(n=u,0===$f&&If(Re)),n===u&&(t.substr(Ef,8)===R?(n=R,Ef+=8):(n=u,0===$f&&If(xe)),n===u&&(t.substr(Ef,8)===x?(n=x,Ef+=8):(n=u,0===$f&&If(Fe)),n===u&&(t.substr(Ef,8)===F?(n=F,Ef+=8):(n=u,0===$f&&If(je)))))),n}function ul(){var n;return t.substr(Ef,8)===j?(n=j,Ef+=8):(n=u,0===$f&&If(De)),n===u&&(t.substr(Ef,8)===D?(n=D,Ef+=8):(n=u,0===$f&&If(Pe)),n===u&&(t.substr(Ef,8)===P?(n=P,Ef+=8):(n=u,0===$f&&If(Ie)),n===u&&(t.substr(Ef,8)===I?(n=I,Ef+=8):(n=u,0===$f&&If(Ve)),n===u&&(t.substr(Ef,8)===V?(n=V,Ef+=8):(n=u,0===$f&&If(Me)))))),n}function ol(){var n;return t.substr(Ef,9)===M?(n=M,Ef+=9):(n=u,0===$f&&If(Qe)),n===u&&(t.substr(Ef,9)===Q?(n=Q,Ef+=9):(n=u,0===$f&&If(_e)),n===u&&(t.substr(Ef,9)===_?(n=_,Ef+=9):(n=u,0===$f&&If(Ge)),n===u&&(t.substr(Ef,9)===G?(n=G,Ef+=9):(n=u,0===$f&&If(Ke)),n===u&&(t.substr(Ef,9)===K?(n=K,Ef+=9):(n=u,0===$f&&If(Le)))))),n}function al(){var n;return t.substr(Ef,9)===L?(n=L,Ef+=9):(n=u,0===$f&&If(Ye)),n===u&&(t.substr(Ef,9)===Y?(n=Y,Ef+=9):(n=u,0===$f&&If(qe)),n===u&&(t.substr(Ef,9)===q?(n=q,Ef+=9):(n=u,0===$f&&If(ze)),n===u&&(t.substr(Ef,9)===z?(n=z,Ef+=9):(n=u,0===$f&&If(He)),n===u&&(t.substr(Ef,9)===H?(n=H,Ef+=9):(n=u,0===$f&&If(Ze)))))),n}function il(){var n;return t.substr(Ef,7)===Z?(n=Z,Ef+=7):(n=u,0===$f&&If(Je)),n===u&&(t.substr(Ef,7)===J?(n=J,Ef+=7):(n=u,0===$f&&If(Xe)),n===u&&(t.substr(Ef,7)===X?(n=X,Ef+=7):(n=u,0===$f&&If(tu)),n===u&&(t.substr(Ef,7)===tt?(n=tt,Ef+=7):(n=u,0===$f&&If(nu)),n===u&&(t.substr(Ef,7)===nt?(n=nt,Ef+=7):(n=u,0===$f&&If(ru)),n===u&&(t.substr(Ef,7)===rt?(n=rt,Ef+=7):(n=u,0===$f&&If(eu))))))),n}function cl(){var n;return t.substr(Ef,7)===et?(n=et,Ef+=7):(n=u,0===$f&&If(uu)),n===u&&(t.substr(Ef,7)===ut?(n=ut,Ef+=7):(n=u,0===$f&&If(ou)),n===u&&(t.substr(Ef,7)===ot?(n=ot,Ef+=7):(n=u,0===$f&&If(au)),n===u&&(t.substr(Ef,7)===at?(n=at,Ef+=7):(n=u,0===$f&&If(iu)),n===u&&(t.substr(Ef,7)===it?(n=it,Ef+=7):(n=u,0===$f&&If(cu)),n===u&&(t.substr(Ef,7)===ct?(n=ct,Ef+=7):(n=u,0===$f&&If(su))))))),n}function sl(){var n;return t.substr(Ef,9)===st?(n=st,Ef+=9):(n=u,0===$f&&If(fu)),n===u&&(t.substr(Ef,9)===ft?(n=ft,Ef+=9):(n=u,0===$f&&If(lu)),n===u&&(t.substr(Ef,9)===lt?(n=lt,Ef+=9):(n=u,0===$f&&If(hu)),n===u&&(t.substr(Ef,9)===ht?(n=ht,Ef+=9):(n=u,0===$f&&If(vu))))),n}function fl(){var n;return t.substr(Ef,9)===vt?(n=vt,Ef+=9):(n=u,0===$f&&If(bu)),n===u&&(t.substr(Ef,9)===bt?(n=bt,Ef+=9):(n=u,0===$f&&If(mu)),n===u&&(t.substr(Ef,9)===mt?(n=mt,Ef+=9):(n=u,0===$f&&If(du)),n===u&&(t.substr(Ef,9)===dt?(n=dt,Ef+=9):(n=u,0===$f&&If(pu))))),n}function ll(){var n;return t.substr(Ef,9)===pt?(n=pt,Ef+=9):(n=u,0===$f&&If(Au)),n===u&&(t.substr(Ef,9)===At?(n=At,Ef+=9):(n=u,0===$f&&If(gu)),n===u&&(t.substr(Ef,9)===gt?(n=gt,Ef+=9):(n=u,0===$f&&If(Cu)),n===u&&(t.substr(Ef,9)===Ct?(n=Ct,Ef+=9):(n=u,0===$f&&If(ku))))),n}function hl(){var n;return t.substr(Ef,12)===kt?(n=kt,Ef+=12):(n=u,0===$f&&If(yu)),n===u&&(t.substr(Ef,12)===yt?(n=yt,Ef+=12):(n=u,0===$f&&If(Tu)),n===u&&(t.substr(Ef,12)===Tt?(n=Tt,Ef+=12):(n=u,0===$f&&If(Bu)),n===u&&(t.substr(Ef,12)===Bt?(n=Bt,Ef+=12):(n=u,0===$f&&If(Eu))))),n}function vl(){var n;return t.substr(Ef,7)===Et?(n=Et,Ef+=7):(n=u,0===$f&&If(Wu)),n===u&&(t.substr(Ef,7)===Wt?(n=Wt,Ef+=7):(n=u,0===$f&&If(wu))),n}function bl(){var n;return t.substr(Ef,5)===wt?(n=wt,Ef+=5):(n=u,0===$f&&If(Uu)),n===u&&(t.substr(Ef,5)===Ut?(n=Ut,Ef+=5):(n=u,0===$f&&If(Ou))),n}function ml(){var n;return t.substr(Ef,5)===Ot?(n=Ot,Ef+=5):(n=u,0===$f&&If($u)),n===u&&(t.substr(Ef,5)===$t?(n=$t,Ef+=5):(n=u,0===$f&&If(Nu))),n}function dl(){var n;return t.substr(Ef,7)===Nt?(n=Nt,Ef+=7):(n=u,0===$f&&If(Su)),n===u&&(t.substr(Ef,7)===St?(n=St,Ef+=7):(n=u,0===$f&&If(Ru))),n}function pl(){var n;return t.substr(Ef,9)===Rt?(n=Rt,Ef+=9):(n=u,0===$f&&If(xu)),n===u&&(t.substr(Ef,9)===xt?(n=xt,Ef+=9):(n=u,0===$f&&If(Fu))),n}function Al(){var n;return t.substr(Ef,12)===Ft?(n=Ft,Ef+=12):(n=u,0===$f&&If(ju)),n===u&&(t.substr(Ef,12)===jt?(n=jt,Ef+=12):(n=u,0===$f&&If(Du)),n===u&&(t.substr(Ef,12)===Dt?(n=Dt,Ef+=12):(n=u,0===$f&&If(Pu)),n===u&&(t.substr(Ef,12)===Pt?(n=Pt,Ef+=12):(n=u,0===$f&&If(Iu))))),n}function gl(){var n;return t.substr(Ef,3)===It?(n=It,Ef+=3):(n=u,0===$f&&If(Vu)),n===u&&(t.substr(Ef,3)===Vt?(n=Vt,Ef+=3):(n=u,0===$f&&If(Mu)),n===u&&(t.substr(Ef,3)===Mt?(n=Mt,Ef+=3):(n=u,0===$f&&If(Qu)))),n}function Cl(){var n;return t.substr(Ef,3)===Qt?(n=Qt,Ef+=3):(n=u,0===$f&&If(_u)),n===u&&(t.substr(Ef,3)===_t?(n=_t,Ef+=3):(n=u,0===$f&&If(Gu)),n===u&&(t.substr(Ef,3)===Gt?(n=Gt,Ef+=3):(n=u,0===$f&&If(Ku)))),n}function kl(){var n;return t.substr(Ef,4)===Kt?(n=Kt,Ef+=4):(n=u,0===$f&&If(Lu)),n===u&&(t.substr(Ef,4)===Lt?(n=Lt,Ef+=4):(n=u,0===$f&&If(Yu))),n}function yl(){var n;return t.substr(Ef,7)===Yt?(n=Yt,Ef+=7):(n=u,0===$f&&If(qu)),n===u&&(t.substr(Ef,7)===qt?(n=qt,Ef+=7):(n=u,0===$f&&If(zu)),n===u&&(t.substr(Ef,7)===zt?(n=zt,Ef+=7):(n=u,0===$f&&If(Hu)),n===u&&(t.substr(Ef,7)===Ht?(n=Ht,Ef+=7):(n=u,0===$f&&If(Zu)),n===u&&(t.substr(Ef,7)===Zt?(n=Zt,Ef+=7):(n=u,0===$f&&If(Ju)),n===u&&(t.substr(Ef,7)===Jt?(n=Jt,Ef+=7):(n=u,0===$f&&If(Xu))))))),n}function Tl(){var n;return t.substr(Ef,7)===Xt?(n=Xt,Ef+=7):(n=u,0===$f&&If(to)),n===u&&(t.substr(Ef,7)===tn?(n=tn,Ef+=7):(n=u,0===$f&&If(no)),n===u&&(t.substr(Ef,7)===nn?(n=nn,Ef+=7):(n=u,0===$f&&If(ro)),n===u&&(t.substr(Ef,7)===rn?(n=rn,Ef+=7):(n=u,0===$f&&If(eo)),n===u&&(t.substr(Ef,7)===en?(n=en,Ef+=7):(n=u,0===$f&&If(uo)),n===u&&(t.substr(Ef,7)===un?(n=un,Ef+=7):(n=u,0===$f&&If(oo))))))),n}function Bl(){var n;return t.substr(Ef,11)===on?(n=on,Ef+=11):(n=u,0===$f&&If(ao)),n===u&&(t.substr(Ef,11)===an?(n=an,Ef+=11):(n=u,0===$f&&If(io)),n===u&&(t.substr(Ef,11)===cn?(n=cn,Ef+=11):(n=u,0===$f&&If(co)),n===u&&(t.substr(Ef,11)===sn?(n=sn,Ef+=11):(n=u,0===$f&&If(so))))),n}function El(){var n;return t.substr(Ef,5)===fn?(n=fn,Ef+=5):(n=u,0===$f&&If(fo)),n===u&&(t.substr(Ef,5)===ln?(n=ln,Ef+=5):(n=u,0===$f&&If(lo)),n===u&&(t.substr(Ef,5)===hn?(n=hn,Ef+=5):(n=u,0===$f&&If(ho)),n===u&&(t.substr(Ef,5)===vn?(n=vn,Ef+=5):(n=u,0===$f&&If(vo))))),n}function Wl(){var n;return t.substr(Ef,3)===bn?(n=bn,Ef+=3):(n=u,0===$f&&If(bo)),n===u&&(t.substr(Ef,3)===mn?(n=mn,Ef+=3):(n=u,0===$f&&If(mo)),n===u&&(t.substr(Ef,3)===dn?(n=dn,Ef+=3):(n=u,0===$f&&If(po)))),n}function wl(){var n;return t.substr(Ef,11)===pn?(n=pn,Ef+=11):(n=u,0===$f&&If(Ao)),n===u&&(t.substr(Ef,11)===An?(n=An,Ef+=11):(n=u,0===$f&&If(go))),n}function Ul(){var n;return t.substr(Ef,9)===gn?(n=gn,Ef+=9):(n=u,0===$f&&If(Co)),n===u&&(t.substr(Ef,9)===Cn?(n=Cn,Ef+=9):(n=u,0===$f&&If(ko))),n}function Ol(){var n;return t.substr(Ef,4)===kn?(n=kn,Ef+=4):(n=u,0===$f&&If(yo)),n===u&&(t.substr(Ef,4)===yn?(n=yn,Ef+=4):(n=u,0===$f&&If(To))),n}function $l(){var n;return t.substr(Ef,8)===Tn?(n=Tn,Ef+=8):(n=u,0===$f&&If(Bo)),n===u&&(t.substr(Ef,8)===Bn?(n=Bn,Ef+=8):(n=u,0===$f&&If(Eo)),n===u&&(t.substr(Ef,8)===En?(n=En,Ef+=8):(n=u,0===$f&&If(Wo)),n===u&&(t.substr(Ef,8)===Wn?(n=Wn,Ef+=8):(n=u,0===$f&&If(wo))))),n}function Nl(){var n;return t.substr(Ef,7)===wn?(n=wn,Ef+=7):(n=u,0===$f&&If(Uo)),n===u&&(t.substr(Ef,7)===Un?(n=Un,Ef+=7):(n=u,0===$f&&If(Oo))),n}function Sl(){var n;return t.substr(Ef,15)===On?(n=On,Ef+=15):(n=u,0===$f&&If($o)),n}function Rl(){var n;return t.substr(Ef,15)===$n?(n=$n,Ef+=15):(n=u,0===$f&&If(No)),n}function xl(){var n;return t.substr(Ef,11)===Nn?(n=Nn,Ef+=11):(n=u,0===$f&&If(So)),n}function Fl(){var n;return t.substr(Ef,11)===Sn?(n=Sn,Ef+=11):(n=u,0===$f&&If(Ro)),n}function jl(){var n;return t.substr(Ef,9)===Rn?(n=Rn,Ef+=9):(n=u,0===$f&&If(xo)),n}function Dl(){var n;return t.substr(Ef,9)===xn?(n=xn,Ef+=9):(n=u,0===$f&&If(Fo)),n}function Pl(){var n;return t.substr(Ef,5)===Fn?(n=Fn,Ef+=5):(n=u,0===$f&&If(jo)),n}function Il(){var n;return t.substr(Ef,10)===jn?(n=jn,Ef+=10):(n=u,0===$f&&If(Do)),n}function Vl(){var n;return t.substr(Ef,10)===Dn?(n=Dn,Ef+=10):(n=u,0===$f&&If(Po)),n}function Ml(){var n,r;for($f++,n=[],Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo));r!==u;)n.push(r),Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo));return $f--,r=u,0===$f&&If(Io),n}function Ql(){var n,r;if(n=[],Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo)),r!==u)for(;r!==u;)n.push(r),Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo));else n=u;return n}function _l(){var n,r;if(n=[],Xr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Mo)),r!==u)for(;r!==u;)n.push(r),Xr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Mo));else n=u;return n}function Gl(){var n,r,e;for(n=Ef,r=[],te.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(Qo));e!==u;)r.push(e),te.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(Qo));return Wf=n,n=r=dc(r)}function Kl(){var n;return 34===t.charCodeAt(Ef)?(n=Pn,Ef++):(n=u,0===$f&&If(_o)),n}function Ll(){var n,r,e,o,a;if(n=Ef,34===t.charCodeAt(Ef)?(r=Pn,Ef++):(r=u,0===$f&&If(_o)),r!==u){for(ql(),e=[],o=Yl();o!==u;)e.push(o),o=Yl();o=ql(),34===t.charCodeAt(Ef)?(a=Pn,Ef++):(a=u,0===$f&&If(_o)),a!==u?(Wf=n,n=pc(e)):(Ef=n,n=u)}else Ef=n,n=u;return n}function Yl(){var n,r,e;return ne.test(t.charAt(Ef))?(n=t.charAt(Ef),Ef++):(n=u,0===$f&&If(Go)),n===u&&(n=Ef,zl()!==u?(r=Ef,92===t.charCodeAt(Ef)?(e=In,Ef++):(e=u,0===$f&&If(Ko)),e!==u&&(Wf=r,e=Ac()),(r=e)===u&&(r=Ef,34===t.charCodeAt(Ef)?(e=Pn,Ef++):(e=u,0===$f&&If(_o)),e!==u&&(Wf=r,e=gc()),r=e),r!==u?(Wf=n,n=Cc(r)):(Ef=n,n=u)):(Ef=n,n=u)),n}function ql(){var n,r;for($f++,n=[],Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo));r!==u;)n.push(r),Jr.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(Vo));return $f--,r=u,0===$f&&If(Io),n}function zl(){var n;return 92===t.charCodeAt(Ef)?(n=In,Ef++):(n=u,0===$f&&If(Ko)),n}function Hl(){var n,r,e,o,a,i,c,s;return n=Ef,Kl()!==u?(r=Ef,re.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(Lo)),e!==u?(re.test(t.charAt(Ef))?(o=t.charAt(Ef),Ef++):(o=u,0===$f&&If(Lo)),o!==u?(re.test(t.charAt(Ef))?(a=t.charAt(Ef),Ef++):(a=u,0===$f&&If(Lo)),a!==u?(re.test(t.charAt(Ef))?(i=t.charAt(Ef),Ef++):(i=u,0===$f&&If(Lo)),i!==u?r=e=[e,o,a,i]:(Ef=r,r=u)):(Ef=r,r=u)):(Ef=r,r=u)):(Ef=r,r=u),r!==u?(46===t.charCodeAt(Ef)?(e=Vn,Ef++):(e=u,0===$f&&If(Yo)),e!==u?(o=Ef,re.test(t.charAt(Ef))?(a=t.charAt(Ef),Ef++):(a=u,0===$f&&If(Lo)),a!==u?(re.test(t.charAt(Ef))?(i=t.charAt(Ef),Ef++):(i=u,0===$f&&If(Lo)),i!==u?o=a=[a,i]:(Ef=o,o=u)):(Ef=o,o=u),o!==u?(46===t.charCodeAt(Ef)?(a=Vn,Ef++):(a=u,0===$f&&If(Yo)),a!==u?(i=Ef,re.test(t.charAt(Ef))?(c=t.charAt(Ef),Ef++):(c=u,0===$f&&If(Lo)),c!==u?(re.test(t.charAt(Ef))?(s=t.charAt(Ef),Ef++):(s=u,0===$f&&If(Lo)),s!==u?i=c=[c,s]:(Ef=i,i=u)):(Ef=i,i=u),i!==u&&(c=Kl())!==u?(Wf=n,n=kc(r,o,i)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u),n}function Zl(){var n,r,e,o,a,i,c;if(n=Ef,Kl()!==u){if(r=[],ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo)),e!==u)for(;e!==u;)r.push(e),ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo));else r=u;if(r!==u)if(58===t.charCodeAt(Ef)?(e=Mn,Ef++):(e=u,0===$f&&If(zo)),e!==u){if(o=[],ee.test(t.charAt(Ef))?(a=t.charAt(Ef),Ef++):(a=u,0===$f&&If(qo)),a!==u)for(;a!==u;)o.push(a),ee.test(t.charAt(Ef))?(a=t.charAt(Ef),Ef++):(a=u,0===$f&&If(qo));else o=u;if(o!==u)if(58===t.charCodeAt(Ef)?(a=Mn,Ef++):(a=u,0===$f&&If(zo)),a!==u){if(i=[],ee.test(t.charAt(Ef))?(c=t.charAt(Ef),Ef++):(c=u,0===$f&&If(qo)),c!==u)for(;c!==u;)i.push(c),ee.test(t.charAt(Ef))?(c=t.charAt(Ef),Ef++):(c=u,0===$f&&If(qo));else i=u;i!==u?((c=Jl())===u&&(c=null),Kl()!==u?(Wf=n,n=yc(r,o,i,c)):(Ef=n,n=u)):(Ef=n,n=u)}else Ef=n,n=u;else Ef=n,n=u}else Ef=n,n=u;else Ef=n,n=u}else Ef=n,n=u;return n}function Jl(){var n,r,e,o;if(n=Ef,46===t.charCodeAt(Ef)?(r=Vn,Ef++):(r=u,0===$f&&If(Yo)),r!==u){if(e=[],ee.test(t.charAt(Ef))?(o=t.charAt(Ef),Ef++):(o=u,0===$f&&If(qo)),o!==u)for(;o!==u;)e.push(o),ee.test(t.charAt(Ef))?(o=t.charAt(Ef),Ef++):(o=u,0===$f&&If(qo));else e=u;e!==u?(Wf=n,n=Tc(e)):(Ef=n,n=u)}else Ef=n,n=u;return n}function Xl(){var t,n;return t=Ef,Kl()!==u&&(n=th())!==u&&Kl()!==u?(Wf=t,t=Bc(n)):(Ef=t,t=u),t}function th(){var n,r,e,o;return n=Ef,(r=nh())!==u?(47===t.charCodeAt(Ef)?(e=Qn,Ef++):(e=u,0===$f&&If(Ho)),e!==u&&(o=eh())!==u?(Wf=n,n=Ec(r,o)):(Ef=n,n=u)):(Ef=n,n=u),n}function nh(){var n;return 66===t.charCodeAt(Ef)?(n=_n,Ef++):(n=u,0===$f&&If(Zo)),n===u&&(87===t.charCodeAt(Ef)?(n=Gn,Ef++):(n=u,0===$f&&If(Jo)),n===u&&(78===t.charCodeAt(Ef)?(n=Kn,Ef++):(n=u,0===$f&&If(Xo)))),n}function rh(){var t,n;return t=Ef,Kl()!==u&&(n=eh())!==u&&Kl()!==u?(Wf=t,t=Wc(n)):(Ef=t,t=u),t}function eh(){var t,n;return t=Ef,(n=Rh())!==u&&(Wf=t,n=wc(n)),t=n}function uh(){var t,n;return t=Ef,Kl()!==u?(n=oh(),Kl()!==u?(Wf=t,t=Uc(n)):(Ef=t,t=u)):(Ef=t,t=u),t}function oh(){var n,r,e,o,a,i,c;if(n=Ef,r=Ef,(e=ah())!==u){for(o=[],a=Ef,58===t.charCodeAt(Ef)?(i=Mn,Ef++):(i=u,0===$f&&If(zo)),i!==u&&(c=ah())!==u?(Wf=a,a=Oc(e,c)):(Ef=a,a=u);a!==u;)o.push(a),a=Ef,58===t.charCodeAt(Ef)?(i=Mn,Ef++):(i=u,0===$f&&If(zo)),i!==u&&(c=ah())!==u?(Wf=a,a=Oc(e,c)):(Ef=a,a=u);Wf=r,r=$c(e,o)}else Ef=r,r=u;return r===u&&(r=null),Wf=n,n=r=Nc(r)}function ah(){var n,r,e,o,a,i;return n=Ef,63===t.charCodeAt(Ef)?(r=Ln,Ef++):(r=u,0===$f&&If(ta)),r!==u&&(Wf=n,r=Sc()),(n=r)===u&&(n=Ef,45===t.charCodeAt(Ef)?(r=Yn,Ef++):(r=u,0===$f&&If(na)),r!==u&&(Wf=n,r=Rc()),(n=r)===u&&(n=Ef,(r=Gh())!==u?(47===t.charCodeAt(Ef)?(e=Qn,Ef++):(e=u,0===$f&&If(Ho)),e!==u&&(o=Gh())!==u?(43===t.charCodeAt(Ef)?(a=qn,Ef++):(a=u,0===$f&&If(ra)),a!==u&&(i=Gh())!==u?(Wf=n,n=xc(r,o,i)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Gh())!==u?(47===t.charCodeAt(Ef)?(e=Qn,Ef++):(e=u,0===$f&&If(Ho)),e!==u&&(o=Gh())!==u?(Wf=n,n=Fc(r,o)):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Gh())!==u?(43===t.charCodeAt(Ef)?(e=qn,Ef++):(e=u,0===$f&&If(ra)),e!==u&&(o=Gh())!==u?(Wf=n,n=jc(r,o)):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Gh())!==u&&(Wf=n,r=Dc(r)),(n=r)===u&&(n=Ef,42===t.charCodeAt(Ef)?(r=zn,Ef++):(r=u,0===$f&&If(ea)),r!==u&&(e=Gh())!==u?(Wf=n,n=Pc(e)):(Ef=n,n=u))))))),n}function ih(){var t,n;return t=Ef,Kl()!==u&&(n=ch())!==u&&Kl()!==u?(Wf=t,t=Ic(n)):(Ef=t,t=u),t}function ch(){var n,r;return n=Ef,t.substr(Ef,3)===Hn?(r=Hn,Ef+=3):(r=u,0===$f&&If(ua)),r!==u&&(Wf=n,r=Vc(r)),(n=r)===u&&(n=Ef,t.substr(Ef,3)===Zn?(r=Zn,Ef+=3):(r=u,0===$f&&If(oa)),r!==u&&(Wf=n,r=Mc(r)),(n=r)===u&&(n=Ef,t.substr(Ef,7)===Jn?(r=Jn,Ef+=7):(r=u,0===$f&&If(aa)),r!==u&&(Wf=n,r=Qc(r)),(n=r)===u&&(n=Ef,42===t.charCodeAt(Ef)?(r=zn,Ef++):(r=u,0===$f&&If(ea)),r!==u&&(Wf=n,r=_c(r)),n=r))),n}function sh(){var n,r,e;return n=Ef,(r=fh())!==u&&(Wf=n,r=Gc(r)),(n=r)===u&&(n=Ef,(r=Kl())!==u?(45===t.charCodeAt(Ef)?(e=Yn,Ef++):(e=u,0===$f&&If(na)),e!==u&&Kl()!==u?(Wf=n,n=Kc()):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Kl())!==u&&(e=Kl())!==u?(Wf=n,n=Lc()):(Ef=n,n=u))),n}function fh(){var n,r,e;if(n=Ef,Kl()!==u){if(r=[],ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo)),e!==u)for(;e!==u;)r.push(e),ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo));else r=u;r!==u&&(e=Kl())!==u?(Wf=n,n=Yc(r)):(Ef=n,n=u)}else Ef=n,n=u;return n}function lh(){var t,n,r,e,o,a,i,c,s,f;return t=Ef,Mf(),n=Ml(),(r=bh())===u&&(r=null),Ml(),(e=Qh())===u&&(e=null),Ml(),(o=Lh())!==u?(Ml(),(a=zh())===u&&(a=null),(i=hh())===u&&(i=null),Ml(),(c=bh())===u&&(c=null),Ml(),(s=Ih())===u&&(s=null),(f=lh())===u&&(f=null),Wf=t,t=qc(r,e,o,a,i,c,s,f)):(Ef=t,t=u),t===u&&(t=Ef,Ml(),(n=vh())!==u?(r=Ml(),Wf=t,t=zc(n)):(Ef=t,t=u)),t}function hh(){var n,r,e,o;return n=Ef,(r=Vh())!==u?(61===t.charCodeAt(Ef)?(e=Xn,Ef++):(e=u,0===$f&&If(ia)),e!==u&&(o=Mh())!==u?n=r=[r,e,o]:(Ef=n,n=u)):(Ef=n,n=u),n}function vh(){var t,n;return t=Ef,(n=ch())!==u&&(Wf=t,n=Hc(n)),t=n}function bh(){var t,n,r,e,o;if(t=Ef,(n=mh())!==u){for(r=[],e=Ef,Ml(),(o=mh())!==u?(Wf=e,e=Zc(n,o)):(Ef=e,e=u);e!==u;)r.push(e),e=Ef,Ml(),(o=mh())!==u?(Wf=e,e=Zc(n,o)):(Ef=e,e=u);Wf=t,t=Jc(n,r)}else Ef=t,t=u;return t}function mh(){var t,n,r;return t=Ef,(n=Wh())!==u&&(r=wh())!==u?(Wf=t,t=Xc()):(Ef=t,t=u),t===u&&(t=Ef,(n=Wh())!==u&&(r=dh())!==u&&wh()!==u?(Wf=t,t=ts(r)):(Ef=t,t=u),t===u&&(t=Ef,(n=gh())!==u&&(Wf=t,n=ns(n)),t=n)),t}function dh(){var n,r,e,o,a,i,c,s,f,l,h,v;if(n=Ef,r=Ml(),(e=Uh())!==u)if(t.substr(Ef,4)===tr?(o=tr,Ef+=4):(o=u,0===$f&&If(ca)),o!==u)if((a=Ql())!==u)if((i=Ch())===u&&(i=null),c=Ml(),(s=Oh())!==u){for(Ml(),f=[],l=Ef,(h=dh())!==u&&(Wf=l,h=rs(i,h)),l=h;l!==u;)f.push(l),l=Ef,(h=dh())!==u&&(Wf=l,h=rs(i,h)),l=h;Wf=n,n=es(i,f)}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=Ml(),(e=Uh())!==u)if(t.substr(Ef,4)===nr?(o=nr,Ef+=4):(o=u,0===$f&&If(sa)),o!==u)if((a=Ql())!==u)if((i=yh())===u&&(i=null),c=Ml(),(s=Oh())!==u){for(Ml(),f=[],l=Ef,(h=dh())!==u&&(Wf=l,h=us(i,h)),l=h;l!==u;)f.push(l),l=Ef,(h=dh())!==u&&(Wf=l,h=us(i,h)),l=h;Wf=n,n=os(i,f)}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=Ml(),(e=Uh())!==u)if(37===t.charCodeAt(Ef)?(o=rr,Ef++):(o=u,0===$f&&If(fa)),o!==u)if((a=Nh())!==u)if((i=Ql())!==u)if((c=Rh())!==u)if(s=Ml(),Oh()!==u){for(f=Ml(),l=[],h=Ef,(v=dh())!==u&&(Wf=h,v=as(a,c,v)),h=v;h!==u;)l.push(h),h=Ef,(v=dh())!==u&&(Wf=h,v=as(a,c,v)),h=v;Wf=n,n=is(a,c,l)}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=Ml(),(e=Uh())!==u)if(37===t.charCodeAt(Ef)?(o=rr,Ef++):(o=u,0===$f&&If(fa)),o!==u)if((a=Sh())!==u)if((i=Ql())!==u)if((c=xh())!==u)if(s=Ml(),Oh()!==u){for(f=Ml(),l=[],h=Ef,(v=dh())!==u&&(Wf=h,v=cs(a,c,v)),h=v;h!==u;)l.push(h),h=Ef,(v=dh())!==u&&(Wf=h,v=cs(a,c,v)),h=v;Wf=n,n=ss(a,c,l)}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=Ml(),(e=Uh())!==u)if(t.substr(Ef,5)===er?(o=er,Ef+=5):(o=u,0===$f&&If(la)),o!==u)if((a=Ql())!==u)if(i=Gl(),c=Ml(),(s=Oh())!==u){for(Ml(),f=[],l=Ef,(h=dh())!==u&&(Wf=l,h=fs(i,h)),l=h;l!==u;)f.push(l),l=Ef,(h=dh())!==u&&(Wf=l,h=fs(i,h)),l=h;Wf=n,n=ls(i,f)}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=Ml(),(e=Uh())!==u)if(37===t.charCodeAt(Ef)?(o=rr,Ef++):(o=u,0===$f&&If(fa)),o!==u)if(a=Gl(),(i=Ql())!==u){if(c=[],(s=Ah())!==u)for(;s!==u;)c.push(s),s=Ah();else c=u;if(c!==u)if((s=Oh())!==u){for(Ml(),f=[],l=Ef,(h=dh())!==u&&(Wf=l,h=hs(a,c,h)),l=h;l!==u;)f.push(l),l=Ef,(h=dh())!==u&&(Wf=l,h=hs(a,c,h)),l=h;Wf=n,n=vs(a,c,f)}else Ef=n,n=u;else Ef=n,n=u}else Ef=n,n=u;else Ef=n,n=u;else Ef=n,n=u;if(n===u){if(n=Ef,r=[],(e=ph())!==u)for(;e!==u;)r.push(e),e=ph();else r=u;if(r!==u){for(e=[],o=Ef,a=Ml(),(i=dh())!==u?(Wf=o,o=bs(r,i)):(Ef=o,o=u);o!==u;)e.push(o),o=Ef,a=Ml(),(i=dh())!==u?(Wf=o,o=bs(r,i)):(Ef=o,o=u);Wf=n,n=ms(r,e)}else Ef=n,n=u}}}}}}return n}function ph(){var n,r,e,o;return n=Ef,r=Ef,$f++,t.substr(Ef,2)===ur?(e=ur,Ef+=2):(e=u,0===$f&&If(ha)),$f--,e===u?r=void 0:(Ef=r,r=u),r!==u?(e=Ef,$f++,125===t.charCodeAt(Ef)?(o=or,Ef++):(o=u,0===$f&&If(va)),$f--,o===u?e=void 0:(Ef=e,e=u),e!==u?(t.length>Ef?(o=t.charAt(Ef),Ef++):(o=u,0===$f&&If(ba)),o!==u?(Wf=n,n=ds(o)):(Ef=n,n=u)):(Ef=n,n=u)):(Ef=n,n=u),n}function Ah(){var n,r,e;return n=Ef,r=Ef,$f++,e=Oh(),$f--,e===u?r=void 0:(Ef=r,r=u),r!==u?(t.length>Ef?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(ba)),e!==u?(Wf=n,n=ps(e)):(Ef=n,n=u)):(Ef=n,n=u),n}function gh(){var n,r,e;if(n=Ef,$h()!==u){for(r=[],ue.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(ma));e!==u;)r.push(e),ue.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(ma));(e=_l())!==u?(Wf=n,n=As(r)):(Ef=n,n=u)}else Ef=n,n=u;return n}function Ch(){var n,r,e,o,a,i,c;if(n=Ef,(r=kh())!==u){for(Ml(),e=[],o=Ef,44===t.charCodeAt(Ef)?(a=ar,Ef++):(a=u,0===$f&&If(da)),a!==u?(i=Ml(),(c=kh())!==u?o=a=[a,i,c]:(Ef=o,o=u)):(Ef=o,o=u);o!==u;)e.push(o),o=Ef,44===t.charCodeAt(Ef)?(a=ar,Ef++):(a=u,0===$f&&If(da)),a!==u?(i=Ml(),(c=kh())!==u?o=a=[a,i,c]:(Ef=o,o=u)):(Ef=o,o=u);Wf=n,n=gs(r,e)}else Ef=n,n=u;return n}function kh(){var t,n,r;return t=Ef,(n=Bh())!==u&&(r=Eh())!==u?(Wf=t,t=Cs(n,r)):(Ef=t,t=u),t}function yh(){var n,r,e,o,a,i,c;if(n=Ef,(r=Th())!==u){for(Ml(),e=[],o=Ef,44===t.charCodeAt(Ef)?(a=ar,Ef++):(a=u,0===$f&&If(da)),a!==u?(i=Ml(),(c=Th())!==u?o=a=[a,i,c]:(Ef=o,o=u)):(Ef=o,o=u);o!==u;)e.push(o),o=Ef,44===t.charCodeAt(Ef)?(a=ar,Ef++):(a=u,0===$f&&If(da)),a!==u?(i=Ml(),(c=Th())!==u?o=a=[a,i,c]:(Ef=o,o=u)):(Ef=o,o=u);Wf=n,n=ks(r,e)}else Ef=n,n=u;return n}function Th(){var t,n,r,e;return t=Ef,(n=Bh())!==u&&(r=Eh())!==u&&(e=Eh())!==u?(Wf=t,t=ys(n,r,e)):(Ef=t,t=u),t}function Bh(){var n,r;return n=Ef,89===t.charCodeAt(Ef)?(r=ir,Ef++):(r=u,0===$f&&If(pa)),r!==u&&(Wf=n,r=Ts()),(n=r)===u&&(n=Ef,71===t.charCodeAt(Ef)?(r=cr,Ef++):(r=u,0===$f&&If(Aa)),r!==u&&(Wf=n,r=Bs()),(n=r)===u&&(n=Ef,82===t.charCodeAt(Ef)?(r=sr,Ef++):(r=u,0===$f&&If(ga)),r!==u&&(Wf=n,r=Es()),(n=r)===u&&(n=Ef,66===t.charCodeAt(Ef)?(r=_n,Ef++):(r=u,0===$f&&If(Zo)),r!==u&&(Wf=n,r=Ws()),n=r))),n}function Eh(){var t,n,r;return t=Ef,(n=nv())!==u&&(r=rv())!==u?(Wf=t,t=ws(n,r)):(Ef=t,t=u),t}function Wh(){var n;return 123===t.charCodeAt(Ef)?(n=fr,Ef++):(n=u,0===$f&&If(Ca)),n}function wh(){var n;return 125===t.charCodeAt(Ef)?(n=or,Ef++):(n=u,0===$f&&If(va)),n}function Uh(){var n;return 91===t.charCodeAt(Ef)?(n=lr,Ef++):(n=u,0===$f&&If(ka)),n}function Oh(){var n;return 93===t.charCodeAt(Ef)?(n=hr,Ef++):(n=u,0===$f&&If(ya)),n}function $h(){var n;return 59===t.charCodeAt(Ef)?(n=vr,Ef++):(n=u,0===$f&&If(Ta)),n}function Nh(){var n,r;return n=Ef,t.substr(Ef,3)===br?(r=br,Ef+=3):(r=u,0===$f&&If(Ba)),r!==u&&(Wf=n,r=Us()),(n=r)===u&&(n=Ef,t.substr(Ef,3)===mr?(r=mr,Ef+=3):(r=u,0===$f&&If(Ea)),r!==u&&(Wf=n,r=Os()),(n=r)===u&&(n=Ef,t.substr(Ef,3)===dr?(r=dr,Ef+=3):(r=u,0===$f&&If(Wa)),r!==u&&(Wf=n,r=$s()),n=r)),n}function Sh(){var n,r;return n=Ef,t.substr(Ef,3)===pr?(r=pr,Ef+=3):(r=u,0===$f&&If(wa)),r!==u&&(Wf=n,r=Ns()),n=r}function Rh(){var t,n,r,e,o;return t=Ef,(n=Fh())===u&&(n=null),(r=Ph())!==u?((e=Ph())===u&&(e=null),(o=Jl())===u&&(o=null),Wf=t,t=Ss(n,r,e,o)):(Ef=t,t=u),t}function xh(){var t,n,r,e;return t=Ef,(n=Fh())===u&&(n=null),(r=Ph())!==u?((e=Ph())===u&&(e=null),Wf=t,t=Rs(n,r,e)):(Ef=t,t=u),t}function Fh(){var t,n,r;return t=Ef,(n=jh())!==u?((r=Dh())===u&&(r=null),Wf=t,t=xs(n,r)):(Ef=t,t=u),t}function jh(){var n,r,e,o;return n=Ef,(r=Ph())!==u?((e=Ph())===u&&(e=null),58===t.charCodeAt(Ef)?(o=Mn,Ef++):(o=u,0===$f&&If(zo)),o!==u?(Wf=n,n=Fs(r,e)):(Ef=n,n=u)):(Ef=n,n=u),n}function Dh(){var n,r,e,o;return n=Ef,(r=Ph())!==u?((e=Ph())===u&&(e=null),58===t.charCodeAt(Ef)?(o=Mn,Ef++):(o=u,0===$f&&If(zo)),o!==u?(Wf=n,n=js(r,e)):(Ef=n,n=u)):(Ef=n,n=u),n}function Ph(){var n,r;return n=Ef,ee.test(t.charAt(Ef))?(r=t.charAt(Ef),Ef++):(r=u,0===$f&&If(qo)),r!==u&&(Wf=n,r=Ds(r)),n=r}function Ih(){var t,n,r;return t=Ef,Vh()!==u&&(n=lh())!==u&&Mh()!==u?(Ml(),(r=Ih())===u&&(r=null),Wf=t,t=Ps(n,r)):(Ef=t,t=u),t}function Vh(){var n;return 40===t.charCodeAt(Ef)?(n=Ar,Ef++):(n=u,0===$f&&If(Ua)),n}function Mh(){var n;return 41===t.charCodeAt(Ef)?(n=gr,Ef++):(n=u,0===$f&&If(Oa)),n}function Qh(){var t,n,r,e,o;if(t=Ef,(n=Gh())!==u){for(r=[],e=Kh();e!==u;)r.push(e),e=Kh();for(e=[],o=_h();o!==u;)e.push(o),o=_h();Wf=t,t=Is(n)}else Ef=t,t=u;return t}function _h(){var n;return 46===t.charCodeAt(Ef)?(n=Vn,Ef++):(n=u,0===$f&&If(Yo)),n}function Gh(){var n,r,e;if($f++,n=Ef,r=[],ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo)),e!==u)for(;e!==u;)r.push(e),ee.test(t.charAt(Ef))?(e=t.charAt(Ef),Ef++):(e=u,0===$f&&If(qo));else r=u;return r!==u&&(Wf=n,r=Vs(r)),$f--,(n=r)===u&&(r=u,0===$f&&If($a)),n}function Kh(){var n,r,e;if(n=Ef,r=[],32===t.charCodeAt(Ef)?(e=Cr,Ef++):(e=u,0===$f&&If(Na)),e!==u)for(;e!==u;)r.push(e),32===t.charCodeAt(Ef)?(e=Cr,Ef++):(e=u,0===$f&&If(Na));else r=u;return r!==u&&(Wf=n,r=Ms()),n=r}function Lh(){var n,r,e,o,a,i,c,s,f;return n=Ef,(r=Xh())===u&&(r=null),e=Ef,$f++,o=Jh(),$f--,o!==u?(Ef=e,e=void 0):e=u,e!==u&&(o=Zh())!==u?((a=ev())===u&&(a=null),(i=nv())!==u&&(c=rv())!==u?((s=qh())===u&&(s=null),(f=Yh())===u&&(f=null),Ml(),t.substr(Ef,4)===kr?Ef+=4:0===$f&&If(Sa),Wf=n,n=Qs(r,o,a,i,c,s,f)):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Xh())===u&&(r=null),(e=nv())!==u&&(o=rv())!==u?((a=uv())===u&&(a=null),(i=nv())!==u&&(c=rv())!==u?((s=qh())===u&&(s=null),(f=Yh())===u&&(f=null),Wf=n,n=_s(r,e,o,a,i,c,s,f)):(Ef=n,n=u)):(Ef=n,n=u),n===u&&(n=Ef,(r=Xh())===u&&(r=null),(e=ev())===u&&(e=null),(o=nv())!==u&&(a=rv())!==u?((i=qh())===u&&(i=null),(c=Yh())===u&&(c=null),Wf=n,n=Gs(r,e,o,a,i,c)):(Ef=n,n=u),n===u&&(n=Ef,t.substr(Ef,5)===yr?(r=yr,Ef+=5):(r=u,0===$f&&If(Ra)),r!==u?((e=Yh())===u&&(e=null),Wf=n,n=Ks(e)):(Ef=n,n=u),n===u&&(n=Ef,t.substr(Ef,3)===Tr?(r=Tr,Ef+=3):(r=u,0===$f&&If(xa)),r!==u?((e=Yh())===u&&(e=null),Wf=n,n=Ls(e)):(Ef=n,n=u),n===u&&(n=Ef,(r=Xh())!==u?(64===t.charCodeAt(Ef)?(e=Br,Ef++):(e=u,0===$f&&If(Fa)),e!==u&&(o=nv())!==u&&(a=rv())!==u?(Wf=n,n=Ys(r,o,a)):(Ef=n,n=u)):(Ef=n,n=u)))))),n}function Yh(){var n,r,e,o;return n=Ef,r=Ef,e=Ef,$f++,t.substr(Ef,2)===Er?(o=Er,Ef+=2):(o=u,0===$f&&If(ja)),$f--,o===u?e=void 0:(Ef=e,e=u),e!==u?(43===t.charCodeAt(Ef)?(o=qn,Ef++):(o=u,0===$f&&If(ra)),o!==u?r=e=[e,o]:(Ef=r,r=u)):(Ef=r,r=u),r!==u&&(Wf=n,r=qs(r)),(n=r)===u&&(n=Ef,r=Ef,e=Ef,$f++,t.substr(Ef,3)===Wr?(o=Wr,Ef+=3):(o=u,0===$f&&If(Da)),$f--,o===u?e=void 0:(Ef=e,e=u),e!==u?(35===t.charCodeAt(Ef)?(o=wr,Ef++):(o=u,0===$f&&If(Pa)),o!==u?r=e=[e,o]:(Ef=r,r=u)):(Ef=r,r=u),r!==u&&(Wf=n,r=zs(r)),n=r),n}function qh(){var n,r;return n=Ef,61===t.charCodeAt(Ef)?Ef++:0===$f&&If(ia),(r=tv())!==u?(Wf=n,n=Hs(r)):(Ef=n,n=u),n}function zh(){var t,n,r;return t=Ef,(n=Hh())!==u?(Ml(),(r=zh())===u&&(r=null),Wf=t,t=Zs(n,r)):(Ef=t,t=u),t}function Hh(){var n,r,e;return n=Ef,36===t.charCodeAt(Ef)?(r=Ur,Ef++):(r=u,0===$f&&If(Ia)),r!==u&&(e=Gh())!==u?(Wf=n,n=Js(e)):(Ef=n,n=u),n===u&&(n=Ef,t.substr(Ef,2)===Or?(r=Or,Ef+=2):(r=u,0===$f&&If(Va)),r!==u&&(Wf=n,r=Xs()),(n=r)===u&&(n=Ef,t.substr(Ef,2)===$r?(r=$r,Ef+=2):(r=u,0===$f&&If(Ma)),r!==u&&(Wf=n,r=tf()),(n=r)===u&&(n=Ef,t.substr(Ef,2)===Nr?(r=Nr,Ef+=2):(r=u,0===$f&&If(Qa)),r!==u&&(Wf=n,r=nf()),(n=r)===u&&(n=Ef,t.substr(Ef,2)===Sr?(r=Sr,Ef+=2):(r=u,0===$f&&If(_a)),r!==u&&(Wf=n,r=rf()),(n=r)===u&&(n=Ef,33===t.charCodeAt(Ef)?(r=Rr,Ef++):(r=u,0===$f&&If(Ga)),r!==u&&(Wf=n,r=ef()),(n=r)===u&&(n=Ef,63===t.charCodeAt(Ef)?(r=Ln,Ef++):(r=u,0===$f&&If(ta)),r!==u&&(Wf=n,r=uf()),(n=r)===u&&(n=Ef,8252===t.charCodeAt(Ef)?(r=xr,Ef++):(r=u,0===$f&&If(Ka)),r!==u&&(Wf=n,r=of()),(n=r)===u&&(n=Ef,8263===t.charCodeAt(Ef)?(r=Fr,Ef++):(r=u,0===$f&&If(La)),r!==u&&(Wf=n,r=af()),(n=r)===u&&(n=Ef,8265===t.charCodeAt(Ef)?(r=jr,Ef++):(r=u,0===$f&&If(Ya)),r!==u&&(Wf=n,r=cf()),(n=r)===u&&(n=Ef,8264===t.charCodeAt(Ef)?(r=Dr,Ef++):(r=u,0===$f&&If(qa)),r!==u&&(Wf=n,r=sf()),(n=r)===u&&(n=Ef,9633===t.charCodeAt(Ef)?(r=Pr,Ef++):(r=u,0===$f&&If(za)),r!==u&&(Wf=n,r=ff()),(n=r)===u&&(n=Ef,61===t.charCodeAt(Ef)?(r=Xn,Ef++):(r=u,0===$f&&If(ia)),r!==u&&(Wf=n,r=lf()),(n=r)===u&&(n=Ef,8734===t.charCodeAt(Ef)?(r=Ir,Ef++):(r=u,0===$f&&If(Ha)),r!==u&&(Wf=n,r=hf()),(n=r)===u&&(n=Ef,10866===t.charCodeAt(Ef)?(r=Vr,Ef++):(r=u,0===$f&&If(Za)),r!==u&&(Wf=n,r=vf()),(n=r)===u&&(n=Ef,10865===t.charCodeAt(Ef)?(r=Mr,Ef++):(r=u,0===$f&&If(Ja)),r!==u&&(Wf=n,r=bf()),(n=r)===u&&(n=Ef,177===t.charCodeAt(Ef)?(r=Qr,Ef++):(r=u,0===$f&&If(Xa)),r!==u&&(Wf=n,r=mf()),(n=r)===u&&(n=Ef,8723===t.charCodeAt(Ef)?(r=_r,Ef++):(r=u,0===$f&&If(ti)),r!==u&&(Wf=n,r=df()),(n=r)===u&&(n=Ef,t.substr(Ef,2)===Er?(r=Er,Ef+=2):(r=u,0===$f&&If(ja)),r!==u&&(Wf=n,r=pf()),(n=r)===u&&(n=Ef,t.substr(Ef,2)===Gr?(r=Gr,Ef+=2):(r=u,0===$f&&If(ni)),r!==u&&(Wf=n,r=Af()),(n=r)===u&&(n=Ef,10752===t.charCodeAt(Ef)?(r=Kr,Ef++):(r=u,0===$f&&If(ri)),r!==u&&(Wf=n,r=gf()),(n=r)===u&&(n=Ef,10227===t.charCodeAt(Ef)?(r=Lr,Ef++):(r=u,0===$f&&If(ei)),r!==u&&(Wf=n,r=Cf()),(n=r)===u&&(n=Ef,8594===t.charCodeAt(Ef)?(r=Yr,Ef++):(r=u,0===$f&&If(ui)),r!==u&&(Wf=n,r=kf()),(n=r)===u&&(n=Ef,8593===t.charCodeAt(Ef)?(r=qr,Ef++):(r=u,0===$f&&If(oi)),r!==u&&(Wf=n,r=yf()),(n=r)===u&&(n=Ef,8646===t.charCodeAt(Ef)?(r=zr,Ef++):(r=u,0===$f&&If(ai)),r!==u&&(Wf=n,r=Tf()),(n=r)===u&&(n=Ef,68===t.charCodeAt(Ef)?(r=Hr,Ef++):(r=u,0===$f&&If(ii)),r!==u&&(Wf=n,r=Bf()),n=r))))))))))))))))))))))))),n}function Zh(){var t;return(t=nv())===u&&(t=rv()),t}function Jh(){var t,n,r,e,o;return t=Ef,(n=Zh())!==u?((r=ev())===u&&(r=null),(e=nv())!==u&&(o=rv())!==u?t=n=[n,r,e,o]:(Ef=t,t=u)):(Ef=t,t=u),t}function Xh(){var n;return oe.test(t.charAt(Ef))?(n=t.charAt(Ef),Ef++):(n=u,0===$f&&If(ci)),n}function tv(){var n;return ae.test(t.charAt(Ef))?(n=t.charAt(Ef),Ef++):(n=u,0===$f&&If(si)),n}function nv(){var n;return ie.test(t.charAt(Ef))?(n=t.charAt(Ef),Ef++):(n=u,0===$f&&If(fi)),n}function rv(){var n;return ce.test(t.charAt(Ef))?(n=t.charAt(Ef),Ef++):(n=u,0===$f&&If(li)),n}function ev(){var n;return 120===t.charCodeAt(Ef)?(n=Zr,Ef++):(n=u,0===$f&&If(hi)),n}function uv(){var n;return 120===t.charCodeAt(Ef)?(n=Zr,Ef++):(n=u,0===$f&&If(hi)),n===u&&(45===t.charCodeAt(Ef)?(n=Yn,Ef++):(n=u,0===$f&&If(na))),n}var ov=[];function av(t){var n=Object.assign(t,Nf());return ov.push(n),n}function iv(t){return parseInt(t.join(""),10)}function cv(t){return t.join("").match(/\?/)?t.join(""):iv(t)}function sv(t){var n={};return t.forEach((function(t){for(var r in t)Array.isArray(t[r])?n[r]=n[r]?n[r].concat(t[r]):t[r]:n[r]=n[r]?lv(n[r])+" "+fv(t[r]):t[r]})),n}function fv(t){if("string"!=typeof t)return t;var n=/^\s+/;return t.replace(n,"")}function lv(t){if("string"!=typeof t)return t;var n=/\s+$/;return t.replace(n,"")}if((e=i())!==u&&Ef===t.length)return e;throw e!==u&&Ef<t.length&&If(Ff()),Vf(Of,Uf<t.length?t.charAt(Uf):null,Uf<t.length?Pf(Uf,Uf+1):Pf(Uf,Uf))}return t(n,Error),n.prototype.format=function(t){var n="Error: "+this.message;if(this.location){var e,u=null;for(e=0;e<t.length;e++)if(t[e].source===this.location.source){u=t[e].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,i=this.location.source+":"+a.line+":"+a.column;if(u){var c=this.location.end,s=r("",a.line.toString().length," "),f=u[o.line-1],l=(o.line===c.line?c.column:f.length+1)-o.column||1;n+="\n --\x3e "+i+"\n"+s+" |\n"+a.line+" | "+f+"\n"+s+" | "+r("",o.column-1," ")+r("",l,"^")}else n+="\n at "+i}return n},n.buildMessage=function(t,n){var r={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var n=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+n.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function a(t){return r[t.type](t)}function i(t){var n,r,e=t.map(a);if(e.sort(),e.length>0){for(n=1,r=1;n<e.length;n++)e[n-1]!==e[n]&&(e[r]=e[n],r++);e.length=r}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}function c(t){return t?'"'+u(t)+'"':"end of input"}return"Expected "+i(t)+" but "+c(n)+" found."},{SyntaxError:n,parse:e}}())}(r);var e=n(r.exports);function u(t,n={startRule:"game"}){t=t.trim();let r=e.parse(t,n),u={moves:[],messages:[]};if("pgn"===n.startRule){let t=r;u.moves=t}else if("tags"===n.startRule){let t=r;u.tags=t}else u=r;return o(u,t,n)}function o(t,n,r){return(e=function(t){if("tags"!==r.startRule){let n=t.moves[t.moves.length-1];if("string"==typeof n&&(t.moves.pop(),t.tags)){let r=t.tags.Result;r&&n!==r&&t.messages.push({key:"Result",value:r,message:"Result in tags is different to result in SAN"}),t.tags.Result=n}}return t}(t)).moves?function(t){function n(t,r){return t.turn=r,t.variations&&t.variations.forEach((function(t){let e=r;t.forEach((t=>e=n(t,e)))})),function(t){return"w"===t?"b":"w"}(r)}let e=function(t){return t.split(/\s+/)[1]}(r.fen||t.tags&&t.tags.FEN||"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1");return t.moves.forEach((t=>e=n(t,e))),t}(e):e;var e}function a(t,n={startRule:"games"}){const r=Object.assign({startRule:"games"},n);let u=e.parse(t,r);return u?(function(t){if(!Array.isArray(t))return[];if(0===t.length)return t;let n=t.pop();(void 0!==n.tags||n.moves.length>0)&&t.push(n)}(u),u.forEach((t=>{o(t,0,r)})),u):[]}t.parse=function(t,n){return n&&"games"!==n.startRule?u(t,n):a(t,n)},t.parseGame=u,t.parseGames=a,t.split=function(t,n={startRule:"games"}){let r=((t,n="\n")=>t.replace(/\r?\n/g,n))(t).split("\n\n"),e=[],u={tags:"",pgn:"",all:""};return r.forEach((function(t){if(t.startsWith("["))u.tags=t;else if(t){u.pgn=t;let n=u.tags?u.tags+"\n\n"+u.pgn:u.pgn;u.all=n,e.push(u),u={tags:"",pgn:"",all:""}}})),e},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/b1acf119b2a5b991377e985a633f2e83bf6a0d3ee1b197a6cf241f6a62c1e933.map